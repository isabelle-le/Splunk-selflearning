# About lookups
*  What: Lookups enrichs your event data (by adding more fields)

* Types:

| Types             | Data source       | Comment              | Look up table files|Look up definitions|
|-------------------|-------------------|----------------------|--------------------|-------------------|
| CSV               |a CSV file         |  small/static data   | required           |required           |
| External          |an external source |                      |                    |required           | 
| KV Store          |KV Store collection|  large/updated often |                    |required           | 
| Geospatial        |a KMZ or KML       |                      |                    |required           |
| Database          |?                  |                      | required           |required           |

* [Automatic lookups](https://docs.splunk.com/Documentation/Splunk/8.0.2/Knowledge/DefineanautomaticlookupinSplunkWeb)
* [lookup command](https://docs.splunk.com/Documentation/Splunk/8.0.2/SearchReference/Lookup)

   Syntax: lookup lookup-table-name ( lookup-field [AS event-field] )... [OUTPUT | OUTPUTNEW (lookup-destfield [AS event-destfield])]

   not required lookup commands if set up automatic lookups

* [inputlookup command](https://docs.splunk.com/Documentation/Splunk/8.0.2/SearchReference/Inputlookup)
* [outputlookup command](https://docs.splunk.com/Documentation/Splunk/8.0.2/SearchReference/Outputlookup)

[Look up fundamental document](https://docs.splunk.com/Documentation/Splunk/8.0.2/Knowledge/Aboutlookupsandfieldactions)

# CSV lookups
* Best pratice: csv file-based lookups, best for not often change and small set of data

* How : 

Step1: CVS file = define your csv

		* (1). at least two cols, one cols contrains a set of field values that in your events 
		* (2). UTF-8 characters
    
Step2: Lookup table files = upload it (verify by inputlookup command)

		* Settings > Lookups > Lookup table files > New Lookup table list > filling > Save
    
Step3: Lookup definitions = built logic

		* Settings > Lookups > Lookup definitions > New Lookup definitions > filling > Save
    
Step4: Automatic lookups (optional) = set it automatic

		* Settings > Lookups > Automatic lookups  > New automatics lookups > filling > Save

* [Document](https://docs.splunk.com/Documentation/Splunk/8.0.2/Knowledge/Usefieldlookupstoaddinformationtoyourevents)

# KV Store lookups
* Best pratice: key/value pairs, able to updated
* How : 

Step 1 : Define a KV Store collection in collections.conf.

		* [sample_name] 
		* enforceTypes = false
		* field.id = string (optional)
		* field.name = string (optional)
		* accelerated_fields.my_accl = {"id" : 1} (optional)

Step 2 : Look up definitions from Splunk Web OR Create a KV Store lookup stanza in transforms.conf ($SPLUNK_HOME/etc/system/local/ or  $SPLUNK_HOME/etc/apps/app_name/local/.)

		* [kvstore_lookup_name]
		* collection = sample_name
		* external_type = kvstore
		* fields_list = _key,id, name (* all your fields want to view in search)

Step 3: Restart Splunk

Collection input can comes from search results in index or via REST API. Details can be review form this [video](https://www.youtube.com/watch?v=1IYezUcNGPY)


* ![Document](https://docs.splunk.com/Documentation/Splunk/latest/Knowledge/ConfigureKVstorelookups)

