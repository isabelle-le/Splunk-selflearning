27. Combining Searches.md
# append : streaming command, subsearch, 
## returns: Appends the results of a subsearch to the current results

## Syntax : append [\<subsearch-options>...] \<subsearch>

	[subsearch] : a secondary search
	subsearch-options
		extendtimerange=\<boolean> | maxtime=\<int> | maxout=\<int> | timeout=\<int>
		extendtimerange=\<boolean> : defaut is false, if true, extends beyond the time range of the main search
		maxtime=\<int> : default is 60. The maximum time, in seconds, to spend on the subsearch before automatically finalizing.
		maxout=<int>: default 50000. The maximum number of result rows to output from the subsearch.
        timeout=<int> :defaut is 60. The maximum time, in seconds, to wait for subsearch to fully finish.

* [Document](https://docs.splunk.com/Documentation/Splunk/8.0.3/SearchReference/Append)

## Example
1. add total sum of hospitalises data in IDF

![](image./append1.png)

2. Count the number of different customers who purchased items. Append the top purchaser for each type of product.

![](image./append2.png)

3. Use the append command to determine the number of unique IP addresses that accessed the Web server.

![](image./append3.png)

4. using extendtimerange=true

![](image./append4.png)

# appendcols : subsearch
## returns: Appends the fields of the subsearch results with the input search results. 
## Syntax : appendcols [override= \<bool> | <subsearch-options>...] \<subsearch>

* [Document](https://docs.splunk.com/Documentation/SplunkCloud/latest/SearchReference/Appendcols)

## Example
compute statistic results
index= corona maille_code=FRA date = "2020-04-16"|stats max(cas_confirmes) as current
|appendcols[search index= corona maille_code=FRA date = "2020-04-15"|stats max(cas_confirmes) as previous ]|eval new_cas_confirmes= current- previous
![](image./appendcol.png)
# know the differences
* Append is a streaming command : parallel manal
* appendcol :The first subsearch result is merged with the first main result,the second subsearch result is merged with the second main result, and so on.
* [video](https://www.youtube.com/watch?v=Vjg2UMDuvnA)
